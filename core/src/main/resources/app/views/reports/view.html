<div class="panel panel-default" ng-show="report.id">
  <div class="panel-heading">
    <h3 class="panel-title">Report {{report.date}}</h3>
  </div>

  <div class="panel-body">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Expenses</h3>
      </div>

      <table class="table table-striped table-bordered table-condensed">
        <thead>
          <tr>
            <th><a href="" ng-click="exSortOnClick('date')">Date <b ng-class="exCaret('date')"></b></a></th>
            <th><a href="" ng-click="exSortOnClick('owner.name')">Owner <b ng-class="exCaret('owner.name')"></b></a></th>
            <th><a href="" ng-click="exSortOnClick('amount')">Amount <b ng-class="exCaret('amount')"></b></a></th>
            <th><a href="" ng-click="exSortOnClick('description')">Description <b ng-class="exCaret('description')"></b></a></th>
            <th><a href="" ng-click="exSortOnClick('comment')">Comment <b ng-class="exCaret('comment')"></b></a></th>
            <th><a href="" ng-click="exSortOnClick('beneficiaries')">Beneficiaries <b ng-class="exCaret('beneficiaries')"></b></a></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="expense in expenses | orderBy:exSortBy:exSortReverse">
            <td>{{expense.date}}</td>
            <td>{{expense.owner.name}}</td>
            <td>{{expense.amount | currency}}</td>
            <td>{{expense.description}}</td>
            <td>{{expense.comment}}</td>
            <td>{{expense.beneficiaries}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Debts</h3>
      </div>

      <!-- TODO: highlight rows depending on whether it's a debt you owe or a debt owed to you -->
      <table class="table table-striped table-bordered table-condensed">
        <thead>
          <tr>
            <th class="iconCol"></th>
            <th class="iconCol"></th>
            <th><a href="" ng-click="dbSortOnClick('creditor.name')">Creditor <b ng-class="dbCaret('creditor.name')"></b></a></th>
            <th><a href="" ng-click="dbSortOnClick('debtor.name')">Debtor <b ng-class="dbCaret('debtor.name')"></b></a></th>
            <th><a href="" ng-click="dbSortOnClick('amount')">Amount <b ng-class="dbCaret('amount')"></b></a></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="debt in debts | orderBy:dbSortBy:dbSortReverse" ng-class="rowClass(debt)">
            <td class="iconCol">
              <a href="" ng-show="debt.debtor.id == user.id && !debt.paid" ng-click="payDebt(debt)"><b class="fa fa-money"></b></a>
              <b class="fa fa-money" ng-show="debt.paid"></b>
            </td>
            <td class="iconCol">
              <a href="" ng-show="debt.creditor.id == user.id && debt.paid && !debt.confirmed" ng-click="confirmDebt(debt)"><b class="fa fa-check"></b></a>
              <b class="fa fa-check" ng-show="debt.confirmed"></b>
            </td>
            <td>{{debt.creditor.name}}</td>
            <td>{{debt.debtor.name}}</td>
            <td>{{debt.amount | currency}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
